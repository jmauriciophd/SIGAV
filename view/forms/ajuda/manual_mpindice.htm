<html>
<head>
<link rel="stylesheet" type="text/css" href="files/dhtmlxtree.css" />
<base target="body">
<title></title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
</head>
<body leftmargin=2 topmargin=2>
<script language="JavaScript" src="manual_mpleft.js"></script>
<script language="javascript" type="text/javascript" src="files/dhtmlXCommon.js"></script>
<script language="javascript" type="text/javascript" src="files/dhtmlXTree.js"></script>
<script language="javascript" type="text/javascript" src="files/dhtmlXTree_xw.js"></script>
<body background="files/img/fundo_indice_lar.jpg">
<script>
	str_selected_item = '';
	function criaMenu(str_xml, str_menu)
	{
		//ini tree
		tree=new dhtmlXTreeObject('treeboxbox_tree', '', '', 0);
		tree.setImagePath('files/img/');
		//tree.enableDragAndDrop(true);
		tree.enableSmartXMLParsing(true);
		//tree.setDragBehavior('complex');
		//tree.setDragHandler(onDrop);
		tree.setOnClickHandler(onNodeSelect);
		//tree.setOnDblClickHandler(onNodeDblSelect);
		//retirado botao direito
		//tree.enableContextMenu(aMenu);
		tree.loadXML(str_xml, afterLoadMenu);
	}
  
	function afterLoadMenu()
	{ 
		//tree.loadOpenStates();
		var item='';
		item = parent.parent.getItem();
		item2 = parent.parent.getItem2();
		if(item != '')
		{ 
			tree.selectItem(item);
			tree.focusItem(item);
			//onNodeSelect(item);
			window.open(item2, 'body');
			//openItem(item);
		}
		item = '';
	}
	
	function onNodeSelect(source)
	{ 
		switch (checkExt(source))
		{
		   case 'manual':
		   	  window.open(source, "body");
		   break;
		   case 'folder':
			  tree.openItem(source);
		   default:
		}
	}
	
	function checkExt(str_file)
	{ 
	  str_file_chk = str_file;
	  if (str_file_chk != '')
	  {
	     if (str_file_chk.indexOf('.') == -1) 
	         return 'folder';
	     else
	       while (str_file_chk.indexOf('.') != -1) {
	        	str_file_chk	= str_file_chk.substring(str_file_chk.indexOf('.') + 1);
	       }
	  }
	    switch (str_file_chk) 
		{
	       case 'html':
	       case 'htm':
	       case 'shtm':
	       case 'shtml':
	          return 'manual';
	       default:
	          return '';
	    }
	}  
</script>
<div id="treeboxbox_tree"></div>
<script>
  criaMenu('menu.xml', '');
</script>
</body></html>